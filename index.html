<!DOCTYPE html>
<html>

<head>
    <!-- File encoding -->
    <meta charset="UTF-8">
    <!-- Content security policy ("Which sources are trusted?") -->
    <!-- [default-src 'self'] Blocks all external sources that aren't from this directory -->
    <!-- [script-src 'self' 'unsafe-inline'] Is needed because of the current settings implementation -->
    <!-- TODO: Remove script-src 'unsafe-inline' if there is a better solution found! -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline';">
    <!-- CSS stylesheets -->
    <link rel="stylesheet" type="text/css" href="./css/reset.css">
    <link rel="stylesheet" type="text/css" href="./css/ilias.css">
    <link rel="stylesheet" type="text/css" href="./css/main-layout.css">
    <link rel="stylesheet" type="text/css" href="./css/title-bar.css">
    <link rel="stylesheet" type="text/css" href="./css/screens.css">
    <link rel="stylesheet" type="text/css" href="./css/ilias-elements.css">
    <link rel="stylesheet" type="text/css" href="./css/main.css">
    <link rel="stylesheet" type="text/css" href="./css/settings.css">
    <!-- JS scripts -->
    <script type="text/javascript" src="./js/onlineState.js"></script>
</head>

<body>
    <div id="title-bar"></div>
    <ul id="screens">
        <li id="welcome">
            <div class="screen-wrapper">
                <p>Welcome to IliasBuddy</p>
                <div class="instructions">
                    <p>To use this service you need to visit Ilias and click on the orange <b>RSS</b> button to get to
                        the <a href="https://ilias3.uni-stuttgart.de/ilias.php?view=0&col_side=right&block_type=pdnews&cmd=showFeedUrl&cmdClass=ilpdnewsblockgui&cmdNode=sh:6b:rv&baseClass=ilPersonalDesktopGUI#il_mhead_t_focus\">Ilias
                            news feed</a>.</p>
                    <p>From there you need to copy the private feed url and replace the <b>password</b> with a password
                        you set in the <a href="https://ilias3.uni-stuttgart.de/ilias.php?view=0&col_side=right&block_type=pdnews&cmd=editSettings&cmdClass=ilpdnewsblockgui&cmdNode=sh:6b:rv&baseClass=ilPersonalDesktopGUI#il_mhead_t_focus\">Ilias
                            settings</a> (you get there by clicking the settings symbol at the top right of the same
                        card you just clicked the orange RSS button.</p>
                    <p>Then insert the url in the first text field and your username (The name string in the url
                        without any spaces) and your just set password.</p>
                    <p>Now to complete the setup click the check button at the bottom right.</p>
                </div>
                <form class="settings-entry-text">
                    Private ILIAS feed URL:<br>
                    <input id="welcome-ilias-api-privateFeedUrl" type="text" name="privateFeedUrl" value="URL">
                    <br>
                    Private ILIAS feed user name:<br>
                    <input id="welcome-ilias-api-privateFeedUserName" type="text" name="privateFeedUserName" value="UserName">
                    <br>
                    Private ILIAS feed password:<br>
                    <input id="welcome-ilias-api-privateFeedPassword" type="password" name="privateFeedPassword" value="Password">
                    <br><br>
                </form>
                <button id="welcome-ilias-api-submit">Try to login</button>
            </div>
        </li>
        <li id="info">
            <div class="screen-wrapper">
                <h2>About this app</h2>
                <ul>
                    <li>Authors:
                        <ul id="app_authors">
                            <li>AnonymerNiklasistanonym
                                <button class="normal-button distance-left" onclick="openExternal('https://github.com/AnonymerNiklasistanonym')">GitHub</button>
                            </li>
                        </ul>
                    </li>
                    <li>Name: <span id="app_name"></span></li>
                    <li>Version: <span id="app_version"></span></li>
                    <li>Source Code: <button class="normal-button distance-left" onclick="openExternal('https://github.com/AnonymerNiklasistanonym/IliasBuddyDesktop')">GitHub</button></li>
                    <li>Dependencies:
                        <ul>
                            <li>auto-launch (Automatic start after login)
                                <button class="normal-button distance-left" onclick="openExternal('https://github.com/4ver/node-auto-launch')">GitHub</button>
                            </li>
                            <li>compare-versions (Compare version numbers to find out if a newer version was released)
                                <button class="normal-button distance-left" onclick="openExternal('https://github.com/omichelsen/compare-versions#readme')">GitHub</button>
                            </li>
                            <li>cronstrue (Make cron job strings human readable)
                                <button class="normal-button distance-left" onclick="openExternal('https://github.com/bradymholt/cronstrue')">GitHub</button>
                            </li>
                            <li>electron-log (Logging)
                                <button class="normal-button distance-left" onclick="openExternal('https://github.com/megahertz/electron-log#readme')">GitHub</button>
                            </li>
                            <li>handlebars (Easy rendering of HTML templates)
                                <button class="normal-button distance-left" onclick="openExternal('http://www.handlebarsjs.com/')">handlebarsjs.com</button>
                            </li>
                            <li>moment (Parse time strings from RSS feed)
                                <button class="normal-button distance-left" onclick="openExternal('http://momentjs.com')">momentjs.com</button>
                            </li>
                            <li>node-cron (Emulate cron jobs)
                                <button class="normal-button distance-left" onclick="openExternal('https://github.com/merencia/node-cron')">GitHub</button>
                            </li>
                            <li>node-notifier (Native notifications)
                                <button class="normal-button distance-left" onclick="openExternal('https://github.com/mikaelbr/node-notifier#readme')">GitHub</button>
                            </li>
                            <li>xml-js (Parse XML code of RSS feed to JSON format)
                                <button class="normal-button distance-left" onclick="openExternal('https://github.com/nashwaan/xml-js#readme')">GitHub</button>
                            </li>
                        </ul>
                    </li>
                </ul>
                <br><br>
                <button id="check-for-updates">Check for update</button>
            </div>
        </li>
        <li id="settings">
            <div class="screen-wrapper">
                <h2>Settings</h2>
                <ul id="settings_entries"></ul>
                <br>
                <button id="resetEverything">Reset everything [Coming soon]</button>
            </div>
        </li>
        <!-- Main screen with the current ilias feed -->
        <li id="main">
            <ul id="ilias-entries"></ul>
        </li>
        <!-- TODO -->
        <!-- Main screen #2 with the saved ilias feed -->
        <li id="saved">
            <div class="screen-wrapper">
                <h2>Coming in the future</h2>
                <p>Save ilias feed entries with a comment</p>
            </div>
            <ul id="saved-ilias-entries"></ul>
        </li>
        <!-- TODO -->
        <!-- Main screen #3 with the links -->
        <li id="links">
            <div class="screen-wrapper">
                <h2>Coming in the future</h2>
                <p>Save ilias links (or other links) with a comment</p>
            </div>
            <ul id="ilias-links"></ul>
        </li>
    </ul>

    <!-- Main script (Only runs after the DOM is ready) -->
    <script src="index.js"></script>
</body>

</html>
